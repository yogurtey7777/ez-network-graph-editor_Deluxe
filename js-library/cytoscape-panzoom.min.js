!function(){"use strict";var n=function(n,o){n&&o&&(o.fn.cyPanzoom=o.fn.cytoscapePanzoom=function(t){return a.apply(this,[t,n,o]),this},n("core","panzoom",function(t){return a.apply(this,[t,n,o]),this}))},o={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"},a=function(n,a,t){var e=this,i=t.extend(!0,{},o,n),c=n,p={destroy:function(){var n=t(e.container()),o=n.find(".cy-panzoom");o.data("winbdgs").forEach(function(n){t(window).unbind(n.evt,n.fn)}),o.data("cybdgs").forEach(function(n){e.off(n.evt,n.fn)}),o.remove()},init:function(){window;return t(e.container()).each(function(){function n(n){var o={x:n.originalEvent.pageX-P.offset().left-P.width()/2,y:n.originalEvent.pageY-P.offset().top-P.height()/2},a=i.panDragAreaSize,t=Math.sqrt(o.x*o.x+o.y*o.y),e=Math.min(t/a,1);return t<i.panInactiveArea?{x:NaN,y:NaN}:(o={x:o.x/t,y:o.y/t},e=Math.max(i.panMinPercentSpeed,e),{x:-1*o.x*(e*i.panDistance),y:-1*o.y*(e*i.panDistance)})}function o(){clearInterval(E),z("mousemove",Y),j.hide()}function c(n){var o=n,a=Math.sqrt(o.x*o.x+o.y*o.y),t={x:-1*o.x/a,y:-1*o.y/a},e=P.width(),c=P.height(),p=a/i.panDistance,r=Math.max(i.panIndicatorMinOpacity,p),s=255-Math.round(255*r);j.show().css({left:e/2*t.x+e/2,top:c/2*t.y+c/2,background:"rgb("+s+", "+s+", "+s+")"})}function p(){e.pan(),e.zoom();q=v.width()/2,k=v.height()/2}function r(){C=!0,p()}function s(){C=!1}function d(n){C||p(),e.zoom({level:n,renderedPosition:{x:q,y:k}})}function m(n,o){void 0===o&&(o=0);var a=X,t=0+a,e=I.height()-Z.height()-2*a,c=n.pageY-I.offset().top-o;c<t&&(c=t),c>e&&(c=e);var p=1-(c-t)/(e-t);Z.css("top",c);var r=i.minZoom,s=i.maxZoom,m=Math.log(r)/Math.log(s),u=(1-m)*p+m,f=Math.pow(s,u);f<r?f=r:f>s&&(f=s),d(f)}function u(){var n=e.zoom(),o=i.minZoom,a=i.maxZoom,t=Math.log(o)/Math.log(a),c=Math.log(n)/Math.log(a),p=1-(c-t)/(1-t),r=X,s=I.height()-Z.height()-2*X,d=p*(s-r);d<r&&(d=r),d>s&&(d=s),Z.css("top",d)}function f(n,o){var a;n.bind("mousedown",function(n){if(n.preventDefault(),n.stopPropagation(),0==n.button){var t=function(){var n=e.zoom(),a=e.zoom()*o;a<i.minZoom&&(a=i.minZoom),a>i.maxZoom&&(a=i.maxZoom),a==i.maxZoom&&n==i.maxZoom||a==i.minZoom&&n==i.minZoom||d(a)};return r(),t(),a=setInterval(t,i.zoomDelay),!1}}),h("mouseup blur",function(){clearInterval(a),s()})}var v=t(this);v.cytoscape=a;var l=[],y=t(window),h=function(n,o){l.push({evt:n,fn:o}),y.bind(n,o)},z=function(n,o){for(var a=0;a<l.length;a++){var t=l[a];if(t.evt===n&&t.fn===o){l.splice(a,1);break}}y.unbind(n,o)},g=[],b=t('<div class="cy-panzoom"></div>');v.prepend(b),b.css("position","absolute"),b.data("winbdgs",l),b.data("cybdgs",g),i.zoomOnly&&b.addClass("cy-panzoom-zoom-only");var x=t('<div class="cy-panzoom-zoom-in cy-panzoom-zoom-button"><span class="icon '+i.zoomInIcon+'"></span></div>');b.append(x);var w=t('<div class="cy-panzoom-zoom-out cy-panzoom-zoom-button"><span class="icon '+i.zoomOutIcon+'"></span></div>');b.append(w);var M=t('<div class="cy-panzoom-reset cy-panzoom-zoom-button"><span class="icon '+i.resetIcon+'"></span></div>');b.append(M);var I=t('<div class="cy-panzoom-slider"></div>');b.append(I),I.append('<div class="cy-panzoom-slider-background"></div>');var Z=t('<div class="cy-panzoom-slider-handle"><span class="icon '+i.sliderHandleIcon+'"></span></div>');I.append(Z);var D=t('<div class="cy-panzoom-no-zoom-tick"></div>');I.append(D);var P=t('<div class="cy-panzoom-panner"></div>');b.append(P);var O=t('<div class="cy-panzoom-panner-handle"></div>');P.append(O);var N=t('<div class="cy-panzoom-pan-up cy-panzoom-pan-button"></div>'),S=t('<div class="cy-panzoom-pan-down cy-panzoom-pan-button"></div>'),A=t('<div class="cy-panzoom-pan-left cy-panzoom-pan-button"></div>'),F=t('<div class="cy-panzoom-pan-right cy-panzoom-pan-button"></div>');P.append(N).append(S).append(A).append(F);var j=t('<div class="cy-panzoom-pan-indicator"></div>');P.append(j);var q,k,E,C=!1,Y=function(o){o.stopPropagation(),o.preventDefault(),clearInterval(E);var a=n(o);if(isNaN(a.x)||isNaN(a.y))return void j.hide();c(a),E=setInterval(function(){e.panBy(a)},i.panSpeed)};O.bind("mousedown",function(n){Y(n),h("mousemove",Y)}),O.bind("mouseup",function(){o()}),h("mouseup blur",function(){o()}),I.bind("mousedown",function(){return!1});var H,Q,B=!1,X=2;Z.bind("mousedown",H=function(n){var o=n.target===Z[0]?n.offsetY:0;B=!0,r(),Z.addClass("active");var a=0;return h("mousemove",Q=function(n){var t=+new Date;return t>a+10&&(a=t,m(n,o),!1)}),h("mouseup",function(){z("mousemove",Q),B=!1,Z.removeClass("active"),s()}),!1}),I.bind("mousedown",function(n){n.target!==Z[0]&&(H(n),m(n))}),u(),function(n,o){g.push({evt:n,fn:o}),e.on(n,o)}("zoom",function(){B||u()}),function(){var n=i.minZoom,o=i.maxZoom,a=Math.log(n)/Math.log(o),t=Math.log(1)/Math.log(o),e=1-(t-a)/(1-a);if(e>1||e<0)return void D.hide();var c=X,p=I.height()-Z.height()-2*X,r=e*(p-c);r<c&&(r=c),r>p&&(r=p),D.css("top",r)}(),f(x,1+i.zoomFactor),f(w,1-i.zoomFactor),M.bind("mousedown",function(n){if(0==n.button){var o=i.fitSelector?e.elements(i.fitSelector):e.elements();if(0===o.size())e.reset();else{("function"==typeof i.animateOnFit?i.animateOnFit.call():i.animateOnFit)?e.animate({fit:{eles:o,padding:i.fitPadding}},{duration:i.fitAnimationDuration}):e.fit(o,i.fitPadding)}return!1}})})}};return p[c]?p[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?(t.error("No such function `"+c+"` for jquery.cytoscapePanzoom"),t(this)):p.init.apply(this,arguments)};"undefined"!=typeof module&&module.exports?module.exports=function(o,a){n(o,a||require("jquery"))}:"undefined"!=typeof define&&define.amd&&define("cytoscape-panzoom",function(){return n}),"undefined"!=typeof cytoscape&&"undefined"!=typeof jQuery&&n(cytoscape,jQuery)}();
//# sourceMappingURL=cytoscape-panzoom.min.js.map